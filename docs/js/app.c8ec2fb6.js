(function(){"use strict";var e={9670:function(e,t,r){r(6981),r(537),r(2666);var n=r(144),s=r(629);n.ZP.use(s.ZP);const o={},i={button_reverse(e,t){e.panel_current="login_register"===e.panel_current?"new_psw":"login_register",t.target.innerText="login_register"===e.panel_current?"忘记密码":"返回登陆"},form_box_switch(e,t){e.form_box_current=t}},a={panel_current:"login_register",form_box_current:"login"},l={my_panel_current(e){return e.panel_current+":my"}};var u,c=new s.ZP.Store({actions:o,mutations:i,state:a,getters:l}),_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app"},[t("vue_time"),t("div",{staticClass:"container"},[t("div",{directives:[{name:"hide",rawName:"v-hide",value:"new_psw"===e.panel_current,expression:" panel_current === 'new_psw' "}],ref:"formbox",staticClass:"form-box"},[t("transition",{attrs:{name:"trans"}},[t("vue_register",{directives:[{name:"show",rawName:"v-show",value:"register"===e.form_box_current&&"login_register"===e.panel_current,expression:"form_box_current === 'register' && panel_current === 'login_register'"}],key:1,attrs:{ip:e.app_ip}})],1),t("transition",{attrs:{name:"trans"}},[t("vue_login",{directives:[{name:"show",rawName:"v-show",value:"login"===e.form_box_current&&"login_register"===e.panel_current,expression:"form_box_current === 'login'&&panel_current === 'login_register'"}],key:2,attrs:{ip:e.app_ip}})],1)],1),t("div",{staticClass:"row con_row"},[t("vue_conbox",{directives:[{name:"hide",rawName:"v-hide",value:"login"===e.form_box_current||"new_psw"===e.panel_current,expression:"form_box_current === 'login' || panel_current === 'new_psw'"}],attrs:{movement:e.tologin_}},[t("span",{attrs:{slot:"p_notice"},slot:"p_notice"},[e._v(" 已有账号？ ")]),t("span",{attrs:{slot:"b_notice"},slot:"b_notice"},[e._v(" 去登陆 ")])]),t("vue_conbox",{directives:[{name:"hide",rawName:"v-hide",value:"register"===e.form_box_current||"new_psw"===e.panel_current,expression:"form_box_current === 'register' || panel_current === 'new_psw'"}],attrs:{movement:e.toregister_}},[t("span",{attrs:{slot:"p_notice"},slot:"p_notice"},[e._v(" 没有账号？ ")]),t("span",{attrs:{slot:"b_notice"},slot:"b_notice"},[e._v(" 去注册 ")])])],1),t("transition",{directives:[{name:"show",rawName:"v-show",value:"new_psw"===e.panel_current,expression:"panel_current==='new_psw'"}],attrs:{name:"tg"}},[t("vue_new_psw_div",{directives:[{name:"show",rawName:"v-show",value:"new_psw"===e.panel_current,expression:"panel_current==='new_psw'"}]})],1)],1),t("vue_forget_psw")],1)},p=[];try{u=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(window.location.href)[1]}catch(ae){console.log(ae),u="localhost"}var v=u,d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"forget_psw"},[t("button",{attrs:{id:"to_change_psw"},on:{click:e.button_reverse}},[e._v("忘记密码")])])},m=[],w={name:"vue_forget_psw",methods:{button_reverse:function(e){this.$store.commit("button_reverse",e)}}},f=w,g=r(1001),h=(0,g.Z)(f,d,m,!1,null,"a3a0ef78",null),b=h.exports,x=function(){var e=this,t=e._self._c;return t("div",{staticClass:"new_psw_div"},[t("h1",{key:"1"},[e._v("找回密码")]),t("div",{key:"2",staticClass:"inputgroup1"},[t("input",{attrs:{type:"text",placeholder:"邮箱地址",name:"id",id:"email"}}),t("button",{attrs:{type:"submit"}},[e._v("发送验证邮件")])]),t("input",{key:"3",attrs:{type:"text",placeholder:"验证码",name:"id",id:"verify"}}),t("input",{key:"4",attrs:{type:"password",placeholder:"新密码",name:"password",id:"epassword1"}}),t("input",{key:"5",attrs:{type:"password",placeholder:"确认新密码",name:"password",id:"epassword2"}}),t("button",{key:"6",attrs:{id:"alter_psw"}},[e._v("修改密码")])])},y=[],k={name:"vue_new_psw_div"},C=k,P=(0,g.Z)(C,x,y,!1,null,"b74e9672",null),Z=P.exports,O=function(){var e=this,t=e._self._c;return t("div",{staticClass:"time_zone"},[e._v(" "+e._s(e.now)+" ")])},S=[],N={name:"vue_time",data(){return{now:Date(Date.now())}},mounted(){setInterval((()=>{this.now=Date(Date.now())}),1e3)}},$=N,T=(0,g.Z)($,O,S,!1,null,null,null),j=T.exports,I=function(){var e=this,t=e._self._c;return t("div",{staticClass:"register-box"},[t("h1",[e._v("register")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_rid,expression:"vue_rid"}],attrs:{type:"text",placeholder:"用户名",id:"Rid"},domProps:{value:e.vue_rid},on:{input:function(t){t.target.composing||(e.vue_rid=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_rname,expression:"vue_rname"}],attrs:{type:"text",placeholder:"昵称",id:"Rname"},domProps:{value:e.vue_rname},on:{input:function(t){t.target.composing||(e.vue_rname=t.target.value)}}}),t("div",{staticClass:"psw1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_rpsw,expression:"vue_rpsw"}],attrs:{type:"password",placeholder:"密码",id:"Rpassword"},domProps:{value:e.vue_rpsw},on:{input:function(t){t.target.composing||(e.vue_rpsw=t.target.value)}}}),t("div",{staticClass:"alert format_correct",class:[e.f_correct?"text-success":"text-danger",e.f_correct?"alert-success":"alert-danger"]},[e._v(" "+e._s(e.notice_below_psw))])]),t("div",{staticClass:"psw1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_rpsw1,expression:"vue_rpsw1"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:e.vue_rpsw1},on:{input:function(t){t.target.composing||(e.vue_rpsw1=t.target.value)}}}),t("div",{staticClass:"alert format_correct",class:[e.f_same?"text-success":"text-danger",e.f_same?"alert-success":"alert-danger"]},[e._v(" "+e._s(e.notice_below_repsw))])]),t("button",{attrs:{id:"register"},on:{click:e.register_}},[e._v("注册")])])},A=[],D={name:"vue_register",props:{ip:String},data(){return{vue_rid:"",vue_rname:"",vue_rpsw:"",vue_rpsw1:"",f_correct:!0,f_same:!0}},methods:{register_:function(e){var t="id="+this.vue_rid+"&password="+this.vue_rpsw+"&name="+this.vue_rname;fetch("http://"+this.ip+":3007/api/reguser",{type:"post",contentType:"application/x-www-form-urlencoded",data:t}).then((function(e){0===e.status?(alert("注册成功,点击回到登陆界面"),window.location.href=e.url):alert(e.message)})).catch((e=>{alert("注册失败！"+e),console.log(e)}))}},computed:{notice_below_psw(){return this.f_correct?"格式正确":"至少8个字符，至少1个字母，1个数字和1个特殊字符"},notice_below_repsw(){return this.f_same?"两次输入一致":"两次输入不一致！"}},watch:{vue_rpsw:{immediate:!0,handler(e,t){e.match(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$/)?this.f_correct=!0:this.f_correct=!1,e!==this.vue_rpsw1?this.f_same=!1:this.f_same=!0}},vue_rpsw1:{immediate:!1,handler(e,t){e!==this.vue_rpsw?this.f_same=!1:this.f_same=!0}}}},R=D,z=(0,g.Z)(R,I,A,!1,null,"ba93b3aa",null),W=z.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-box"},[t("h1",[e._v("login")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_id,expression:"vue_id"}],attrs:{type:"text",placeholder:"用户名",name:"id"},domProps:{value:e.vue_id},on:{input:function(t){t.target.composing||(e.vue_id=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_psw,expression:"vue_psw"}],attrs:{type:"password",placeholder:"密码",name:"password",id:"password"},domProps:{value:e.vue_psw},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login_(t)},input:function(t){t.target.composing||(e.vue_psw=t.target.value)}}}),t("button",{attrs:{id:"login_btn"},on:{click:function(t){return e.login_(t)}}},[e._v("登陆")])])},M=[],X={name:"vue_login",props:{ip:String},data(){return{vue_id:"",vue_psw:""}},methods:{login_:function(e){var t="id="+this.vue_id+"&password="+this.vue_psw;fetch("http://"+this.ip+":3007/api/login",{type:"post",contentType:"application/x-www-form-urlencoded",data:t}).then((function(e){window.localStorage.setItem(e.id,e.id),window.localStorage.setItem("serverIP",e.serverIP),sessionStorage.name=e.name,sessionStorage.id=e.id,sessionStorage.serverIP=e.serverIP,0===e.status?(alert("登录成功,跳转至主界面"),window.location.href=e.url):alert(e.message)})).catch((e=>{alert("登陆失败！"+e),console.log(e)}))}}},Y=X,F=(0,g.Z)(Y,E,M,!1,null,"050a7218",null),q=F.exports,B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"con-box col-sm-6 right"},[t("vue_welcome"),t("p",[e._t("p_notice")],2),t("button",{on:{click:e.movement}},[e._t("b_notice")],2)],1)},G=[],H=function(){var e=this;e._self._c;return e._m(0)},J=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"welcome"},[t("h2",[e._v("欢迎来到"),t("span",[e._v("WebRTC")])]),t("p",[e._v("快来加入"),t("span",[e._v("会话")]),e._v("吧")]),t("img",{attrs:{src:r(6866),alt:""}})])}],K={name:"vue_welcome"},L=K,Q=(0,g.Z)(L,H,J,!1,null,null,null),U=Q.exports,V={name:"vue_toregister",props:["movement"],components:{vue_welcome:U}},ee=V,te=(0,g.Z)(ee,B,G,!1,null,null,null),re=te.exports,ne={name:"App1",data(){return{app_ip:v}},computed:{...(0,s.rn)(["form_box_current","panel_current"]),...(0,s.Se)(["my_panel_current"])},methods:{tologin_(){this.$store.commit("form_box_switch","login"),this.$refs.formbox.style.transform=window.innerWidth>568?"translateX(0%)":"translateY(0%)"},toregister_(){this.$store.commit("form_box_switch","register"),this.$refs.formbox.style.transform=window.innerWidth>568?"translateX(100%)":"translateY(100%)"}},components:{vue_forget_psw:b,vue_new_psw_div:Z,vue_time:j,vue_register:W,vue_login:q,vue_conbox:re},mounted(){console.log(this.my_panel_current)},directives:{hide(e,t){t.value?(e.style.visibility="hidden",e.style.opacity=0):(e.style.visibility="visible",e.style.opacity=1)}}},se=ne,oe=(0,g.Z)(se,_,p,!1,null,null,null),ie=oe.exports;n.ZP.config.devtools=!0,n.ZP.config.productionTip=!1,new n.ZP({render:e=>e(ie),el:"#app",components:{App:ie},beforeCreate(){n.ZP.prototype.$bus=this},store:c})},6866:function(e,t,r){e.exports=r.p+"img/webrtc.c1ab34af.png"}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,n,s,o){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],o=e[c][2];for(var a=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(a=!1,o<i&&(i=o));if(a){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,s,o]}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p=""}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,o,i=n[0],a=n[1],l=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(s in a)r.o(a,s)&&(r.m[s]=a[s]);if(l)var c=l(r)}for(t&&t(n);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},n=self["webpackChunkvue_webrtc_platform"]=self["webpackChunkvue_webrtc_platform"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(9670)}));n=r.O(n)})();
//# sourceMappingURL=app.c8ec2fb6.js.map