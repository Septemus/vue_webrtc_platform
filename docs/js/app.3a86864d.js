(function(){"use strict";var e={2474:function(e,t,r){r(6981),r(537),r(2666);var s=r(144),n=r(629);s.ZP.use(n.ZP);const o={},i={button_reverse(e,t){e.panel_current="login_register"===e.panel_current?"new_psw":"login_register",t.target.innerText="login_register"===e.panel_current?"忘记密码":"返回登陆"},form_box_switch(e,t){e.form_box_current=t}},a={panel_current:"login_register",form_box_current:"login"};var l,u=new n.ZP.Store({actions:o,mutations:i,state:a}),c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app"},[t("vue_time"),t("div",{staticClass:"container"},[t("div",{directives:[{name:"hide",rawName:"v-hide",value:"new_psw"===this.$store.state.panel_current,expression:" this.$store.state.panel_current === 'new_psw' "}],ref:"formbox",staticClass:"form-box"},[t("transition",{attrs:{name:"trans"}},[t("vue_register",{directives:[{name:"show",rawName:"v-show",value:"register"===this.$store.state.form_box_current&&"login_register"===this.$store.state.panel_current,expression:"this.$store.state.form_box_current === 'register' && this.$store.state.panel_current === 'login_register'"}],key:1,attrs:{ip:e.app_ip}})],1),t("transition",{attrs:{name:"trans"}},[t("vue_login",{directives:[{name:"show",rawName:"v-show",value:"login"===this.$store.state.form_box_current&&"login_register"===this.$store.state.panel_current,expression:"this.$store.state.form_box_current === 'login'&&this.$store.state.panel_current === 'login_register'"}],key:2,attrs:{ip:e.app_ip}})],1)],1),t("div",{staticClass:"row con_row"},[t("vue_conbox",{directives:[{name:"hide",rawName:"v-hide",value:"login"===this.$store.state.form_box_current||"new_psw"===this.$store.state.panel_current,expression:"this.$store.state.form_box_current === 'login' || this.$store.state.panel_current === 'new_psw'"}],attrs:{movement:e.tologin_}},[t("span",{attrs:{slot:"p_notice"},slot:"p_notice"},[e._v(" 已有账号？ ")]),t("span",{attrs:{slot:"b_notice"},slot:"b_notice"},[e._v(" 去登陆 ")])]),t("vue_conbox",{directives:[{name:"hide",rawName:"v-hide",value:"register"===this.$store.state.form_box_current||"new_psw"===this.$store.state.panel_current,expression:"this.$store.state.form_box_current === 'register' || this.$store.state.panel_current === 'new_psw'"}],attrs:{movement:e.toregister_}},[t("span",{attrs:{slot:"p_notice"},slot:"p_notice"},[e._v(" 没有账号？ ")]),t("span",{attrs:{slot:"b_notice"},slot:"b_notice"},[e._v(" 去注册 ")])])],1),t("transition",{directives:[{name:"show",rawName:"v-show",value:"new_psw"===this.$store.state.panel_current,expression:"this.$store.state.panel_current==='new_psw'"}],attrs:{name:"tg"}},[t("vue_new_psw_div",{directives:[{name:"show",rawName:"v-show",value:"new_psw"===this.$store.state.panel_current,expression:"this.$store.state.panel_current==='new_psw'"}]})],1)],1),t("vue_forget_psw")],1)},p=[];try{l=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(window.location.href)[1]}catch(ie){console.log(ie),l="localhost"}var _=l,v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"forget_psw"},[t("button",{attrs:{id:"to_change_psw"},on:{click:e.button_reverse}},[e._v("忘记密码")])])},d=[],m={name:"vue_forget_psw",methods:{button_reverse:function(e){this.$store.commit("button_reverse",e)}}},w=m,f=r(1001),h=(0,f.Z)(w,v,d,!1,null,"a3a0ef78",null),g=h.exports,b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"new_psw_div"},[t("h1",{key:"1"},[e._v("找回密码")]),t("div",{key:"2",staticClass:"inputgroup1"},[t("input",{attrs:{type:"text",placeholder:"邮箱地址",name:"id",id:"email"}}),t("button",{attrs:{type:"submit"}},[e._v("发送验证邮件")])]),t("input",{key:"3",attrs:{type:"text",placeholder:"验证码",name:"id",id:"verify"}}),t("input",{key:"4",attrs:{type:"password",placeholder:"新密码",name:"password",id:"epassword1"}}),t("input",{key:"5",attrs:{type:"password",placeholder:"确认新密码",name:"password",id:"epassword2"}}),t("button",{key:"6",attrs:{id:"alter_psw"}},[e._v("修改密码")])])},x=[],y={name:"vue_new_psw_div"},$=y,k=(0,f.Z)($,b,x,!1,null,"b74e9672",null),C=k.exports,P=function(){var e=this,t=e._self._c;return t("div",{staticClass:"time_zone"},[e._v(" "+e._s(e.now)+" ")])},Z=[],O={name:"vue_time",data(){return{now:Date(Date.now())}},mounted(){setInterval((()=>{this.now=Date(Date.now())}),1e3)}},N=O,S=(0,f.Z)(N,P,Z,!1,null,null,null),T=S.exports,j=function(){var e=this,t=e._self._c;return t("div",{staticClass:"register-box"},[t("h1",[e._v("register")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_rid,expression:"vue_rid"}],attrs:{type:"text",placeholder:"用户名",id:"Rid"},domProps:{value:e.vue_rid},on:{input:function(t){t.target.composing||(e.vue_rid=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_rname,expression:"vue_rname"}],attrs:{type:"text",placeholder:"昵称",id:"Rname"},domProps:{value:e.vue_rname},on:{input:function(t){t.target.composing||(e.vue_rname=t.target.value)}}}),t("div",{staticClass:"psw1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_rpsw,expression:"vue_rpsw"}],attrs:{type:"password",placeholder:"密码",id:"Rpassword"},domProps:{value:e.vue_rpsw},on:{input:function(t){t.target.composing||(e.vue_rpsw=t.target.value)}}}),t("div",{staticClass:"alert format_correct",class:[e.f_correct?"text-success":"text-danger",e.f_correct?"alert-success":"alert-danger"]},[e._v(" "+e._s(e.notice_below_psw))])]),t("div",{staticClass:"psw1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_rpsw1,expression:"vue_rpsw1"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:e.vue_rpsw1},on:{input:function(t){t.target.composing||(e.vue_rpsw1=t.target.value)}}}),t("div",{staticClass:"alert format_correct",class:[e.f_same?"text-success":"text-danger",e.f_same?"alert-success":"alert-danger"]},[e._v(" "+e._s(e.notice_below_repsw))])]),t("button",{attrs:{id:"register"},on:{click:e.register_}},[e._v("注册")])])},I=[],A={name:"vue_register",props:{ip:String},data(){return{vue_rid:"",vue_rname:"",vue_rpsw:"",vue_rpsw1:"",f_correct:!0,f_same:!0}},methods:{register_:function(e){var t="id="+this.vue_rid+"&password="+this.vue_rpsw+"&name="+this.vue_rname;fetch("http://"+this.ip+":3007/api/reguser",{type:"post",contentType:"application/x-www-form-urlencoded",data:t}).then((function(e){0===e.status?(alert("注册成功,点击回到登陆界面"),window.location.href=e.url):alert(e.message)})).catch((e=>{alert("注册失败！"+e),console.log(e)}))}},computed:{notice_below_psw(){return this.f_correct?"格式正确":"至少8个字符，至少1个字母，1个数字和1个特殊字符"},notice_below_repsw(){return this.f_same?"两次输入一致":"两次输入不一致！"}},watch:{vue_rpsw:{immediate:!0,handler(e,t){e.match(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$/)?this.f_correct=!0:this.f_correct=!1,e!==this.vue_rpsw1?this.f_same=!1:this.f_same=!0}},vue_rpsw1:{immediate:!1,handler(e,t){e!==this.vue_rpsw?this.f_same=!1:this.f_same=!0}}}},D=A,R=(0,f.Z)(D,j,I,!1,null,"ba93b3aa",null),z=R.exports,W=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-box"},[t("h1",[e._v("login")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_id,expression:"vue_id"}],attrs:{type:"text",placeholder:"用户名",name:"id"},domProps:{value:e.vue_id},on:{input:function(t){t.target.composing||(e.vue_id=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.vue_psw,expression:"vue_psw"}],attrs:{type:"password",placeholder:"密码",name:"password",id:"password"},domProps:{value:e.vue_psw},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login_(t)},input:function(t){t.target.composing||(e.vue_psw=t.target.value)}}}),t("button",{attrs:{id:"login_btn"},on:{click:function(t){return e.login_(t)}}},[e._v("登陆")])])},E=[],M={name:"vue_login",props:{ip:String},data(){return{vue_id:"",vue_psw:""}},methods:{login_:function(e){var t="id="+this.vue_id+"&password="+this.vue_psw;fetch("http://"+this.ip+":3007/api/login",{type:"post",contentType:"application/x-www-form-urlencoded",data:t}).then((function(e){window.localStorage.setItem(e.id,e.id),window.localStorage.setItem("serverIP",e.serverIP),sessionStorage.name=e.name,sessionStorage.id=e.id,sessionStorage.serverIP=e.serverIP,0===e.status?(alert("登录成功,跳转至主界面"),window.location.href=e.url):alert(e.message)})).catch((e=>{alert("登陆失败！"+e),console.log(e)}))}}},X=M,Y=(0,f.Z)(X,W,E,!1,null,"050a7218",null),F=Y.exports,q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"con-box col-sm-6 right"},[t("vue_welcome"),t("p",[e._t("p_notice")],2),t("button",{on:{click:e.movement}},[e._t("b_notice")],2)],1)},B=[],G=function(){var e=this;e._self._c;return e._m(0)},H=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"welcome"},[t("h2",[e._v("欢迎来到"),t("span",[e._v("WebRTC")])]),t("p",[e._v("快来加入"),t("span",[e._v("会话")]),e._v("吧")]),t("img",{attrs:{src:r(6866),alt:""}})])}],J={name:"vue_welcome"},K=J,L=(0,f.Z)(K,G,H,!1,null,null,null),Q=L.exports,U={name:"vue_toregister",props:["movement"],components:{vue_welcome:Q}},V=U,ee=(0,f.Z)(V,q,B,!1,null,null,null),te=ee.exports,re={name:"App1",data(){return{app_ip:_}},methods:{tologin_(){this.$store.commit("form_box_switch","login"),this.$refs.formbox.style.transform=window.innerWidth>568?"translateX(0%)":"translateY(0%)"},toregister_(){this.$store.commit("form_box_switch","register"),this.$refs.formbox.style.transform=window.innerWidth>568?"translateX(100%)":"translateY(100%)"}},components:{vue_forget_psw:g,vue_new_psw_div:C,vue_time:T,vue_register:z,vue_login:F,vue_conbox:te},mounted(){},directives:{hide(e,t){t.value?(e.style.visibility="hidden",e.style.opacity=0):(e.style.visibility="visible",e.style.opacity=1)}}},se=re,ne=(0,f.Z)(se,c,p,!1,null,null,null),oe=ne.exports;s.ZP.config.productionTip=!1,new s.ZP({render:e=>e(oe),el:"#app",components:{App:oe},beforeCreate(){s.ZP.prototype.$bus=this},store:u})},6866:function(e,t,r){e.exports=r.p+"img/webrtc.c1ab34af.png"}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,s,n,o){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],o=e[c][2];for(var a=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](s[l])}))?s.splice(l--,1):(a=!1,o<i&&(i=o));if(a){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,n,o]}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p=""}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,i=s[0],a=s[1],l=s[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(l)var c=l(r)}for(t&&t(s);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},s=self["webpackChunkvue_webrtc_platform"]=self["webpackChunkvue_webrtc_platform"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(2474)}));s=r.O(s)})();
//# sourceMappingURL=app.3a86864d.js.map